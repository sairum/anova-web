"use strict";var sample=function(){var a=4,b=".";function c(){let h=parseInt(document.getElementById("F_N").value),k=parseFloat(document.getElementById("F_avg").value),j=parseFloat(document.getElementById("F_std").value),f=parseInt(document.getElementById("F_n1").value),g=parseInt(document.getElementById("F_n2").value);console.log(h,k,j,f,g);let i=document.getElementById("F_res");i.innerHTML="";let l=[],n=[],m=[],b,c,d;for(let a=0;a<h;a++){b=0,c=0,d=0;for(let a=0;a<f;a++)b=jStat.normal.sample(k,j),c+=b,d+=Math.pow(b,2);let e=(d-Math.pow(c,2)/f)/(f-1);b=0,c=0,d=0;for(let a=0;a<g;a++)b=jStat.normal.sample(k,j),c+=b,d+=Math.pow(b,2);let i=(d-Math.pow(c,2)/g)/(g-1);n.push(e),m.push(i),l.push(e/i)}let e="<h3>Multiple F-tests</h3>";e+='<textarea cols="20" rows="10" id="F_results">';for(let b=0;b<h;b++)e+=l[b].toFixed(a)+"\n";e+="</textarea>",i.innerHTML=e,i.style.display="inline-block",document.getElementById("F_sep").disabled=!1}function d(){let h=parseInt(document.getElementById("t_N").value),k=parseFloat(document.getElementById("t_avg").value),j=parseFloat(document.getElementById("t_std").value),b=parseInt(document.getElementById("t_n").value);console.log(h,k,j,b);let i=document.getElementById("t_res");i.innerHTML="";let n=[],o,c,d,f,m,e,l;for(let a=0;a<h;a++){c=0,d=0;for(let a=0;a<b;a++)f=jStat.normal.sample(k,j),c+=f,d+=Math.pow(f,2);f=c/b,m=(d-Math.pow(c,2)/b)/(b-1),c=0,d=0;for(let a=0;a<b;a++)e=jStat.normal.sample(k,j),c+=e,d+=Math.pow(e,2);e=c/b,l=(d-Math.pow(c,2)/b)/(b-1),n.push((f-e)/Math.sqrt(m/b+l/b))}let g="<h3>Multiple <em>t</em>-tests</h3>";g+='<textarea cols="20" rows="10" id="t_results">';for(let b=0;b<h;b++)g+=n[b].toFixed(a)+"\n";g+="</textarea>",i.innerHTML=g,i.style.display="inline-block",document.getElementById("t_sep").disabled=!1}function e(a){document.getElementById(a+"_avg").value="8.0",document.getElementById(a+"_std").value="1.5",document.getElementById(a+"_var").value="2.25",a!=='F'?document.getElementById(a+"_n").value="10":(document.getElementById("F_n1").value="2",document.getElementById("F_n2").value="10"),a!=='norm'&&(document.getElementById(a+"_N").value="100"),document.getElementById(a+"_results").value=""}function f(){let n=parseFloat(document.getElementById("norm_avg").value),l=parseFloat(document.getElementById("norm_std").value),c=parseInt(document.getElementById("norm_n").value),f=document.getElementById("norm_res");f.innerHTML="";let g=document.getElementById("norm_stats");g.innerHTML="";let d=0,h=[],e=0,j=0;for(let a=0;a<c;a++)d=jStat.normal.sample(n,l),e+=d,j+=Math.pow(d,2),h.push(d);let k=(e/c).toFixed(a),i=((j-Math.pow(e,2)/c)/(c-1)).toFixed(a),m=Math.sqrt(i).toFixed(a),b="<h3>Sampled values</h3>";b+='<textarea cols="20" rows="10" id="norm_results">';for(let d=0;d<c;d++)b+=h[d].toFixed(a)+"\n";b+="</textarea>",f.innerHTML=b,f.style.display="inline-block",b="<h3>Sample statistics</h3>",b+="<table><tr><td>x&#772; (average)</td><td>"+k.toString()+"</td></tr>",b+="<tr><td><i>s</i> (stdev)</td><td>"+m.toString()+"</td></tr>",b+="<tr><td><i>s</i>&sup2; (variance)</td><td>"+i.toString()+"</td></tr>",g.innerHTML=b,g.style.display="inline-block",document.getElementById("norm_sep").disabled=!1}function g(){let c=parseInt(document.getElementById("clt_N").value),n=parseFloat(document.getElementById("clt_avg").value),k=parseFloat(document.getElementById("clt_std").value),h=parseInt(document.getElementById("clt_n").value),d=document.getElementById("clt_res");d.innerHTML="";let e=document.getElementById("clt_stats");e.innerHTML="";let i=[],f=0,g=0;for(let b=0;b<c;b++){let a=0;for(let b=0;b<h;b++)a+=jStat.normal.sample(n,k);a=a/h,i.push(a),f+=a,g+=Math.pow(a,2)}let l=(f/c).toFixed(a),j=((g-Math.pow(f,2)/c)/(c-1)).toFixed(a),m=Math.sqrt(j).toFixed(a),b="<h3>Sampled averages</h3>";b+='<textarea cols="20" rows="10" id="clt_results">';for(let d=0;d<c;d++)b+=i[d].toFixed(a)+"\n";b+="</textarea>",d.innerHTML=b,d.style.display="inline-block",b="<h3>Sample statistics</h3>",b+="<table><tr><td>x&#772;&#772; (average of averages)</td><td>"+l.toString()+"</td></tr>",b+="<tr><td><i>s&#772;</i> (stdev of averages)</td><td>"+m.toString()+"</td></tr>",b+="<tr><td><i>s&#772;</i>&sup2; (variance of averages)</td><td>"+j.toString()+"</td></tr>",e.innerHTML=b,e.style.display="inline-block",document.getElementById("clt_sep").disabled=!1}function h(){let a=document.getElementsByClassName("accordion");for(let b=0;b<a.length;b++)a[b].addEventListener("click",function(){this.classList.toggle("active");let a=this.nextElementSibling;a.style.display==="block"?a.style.display="none":a.style.display="block"})}function i(){let b=document.getElementById("precision").value;a=parseInt(b),a<1?(document.getElementById("precision").value=1,a=1):a>10?(document.getElementById("precision").value=10,a=10):document.getElementById("precision").value=a}function j(b){let c=document.getElementById(b+"_std").value;document.getElementById(b+"_var").value=Math.pow(c,2).toFixed(a)}function k(c,a){let b=document.getElementById(c).value,d=document.getElementById(a).value;d=="."?(b=b.replace(/\,/g,"."),document.getElementById(a).value=",",document.getElementById(a).innerHTML=", (comma)"):(b=b.replace(/\./g,","),document.getElementById(a).value=".",document.getElementById(a).innerHTML=". (dot)"),document.getElementById(c).value=b}function l(){let s=parseInt(document.getElementById("t_diff").value),q=parseFloat(document.getElementById("t_avg").value),l=parseFloat(document.getElementById("t_std").value),c=parseInt(document.getElementById("t_n").value),g=document.getElementById("t_res");g.innerHTML="";let h=document.getElementById("t_stats");h.innerHTML="";let i=[],j=[],e,d,f,m,n,o,p;d=0,f=0;for(let a=0;a<c;a++)e=jStat.normal.sample(q,l),d+=e,f+=Math.pow(e,2),i.push(e);m=d/c,n=(f-Math.pow(d,2)/c)/(c-1),d=0,f=0;for(let a=0;a<c;a++)e=jStat.normal.sample(q+s,l),d+=e,f+=Math.pow(e,2),j.push(e);o=d/c,p=(f-Math.pow(d,2)/c)/(c-1);let b="<h3>Population 1</h3>";b+='<textarea cols="20" rows="10" id="t_results1">';for(let c=0,d=i.length;c<d;c++)b+=i[c].toFixed(a)+"\n";b+="\n",b+="</textarea>",b+="<h3>Population 2</h3>",b+='<textarea cols="20" rows="10" id="t_results2">';for(let c=0,d=j.length;c<d;c++)b+=j[c].toFixed(a)+"\n";b+="</textarea>",g.innerHTML=b,g.style.display="inline-block";let r=(m-o)/Math.sqrt(n/c+p/c),k=jStat.studentt.cdf(r,2*(c-1)),t=k*2;b="<h3><em>t</em>-test</h3>",b+='<textarea cols="20" rows="10" id="t_ttest">',b+="t statistic = "+r.toFixed(a)+"\n",b+="p (two tailed) = "+t.toFixed(a)+"\n",b+="p (one tailed) = "+k.toFixed(a)+"\n",b+="</textarea>",h.innerHTML=b,h.style.display="inline-block",document.getElementById("t_sep").disabled=!1}return{setAccordion:h,reset:e,sampleNormal:f,sampleNormalNTimes:g,setVar:j,setPrecision:i,switchDecSep:k,multipleFTests:c,multipleTTests:d,tTest:l}}();document.addEventListener("DOMContentLoaded",function(){sample.setAccordion()})