var chart=function(){var e,c,g,l,n,x,u,w,b,d,q,j,o,a,z,r,h,t,m,f,s,v;'use strict',const p=61,k=4,e=5,c=.5;u="X",w="Probability density",b={top:10,left:70,right:10,bottom:50},d=[],q=document.getElementById("chart"),j=q.height,o=q.width,a=q.getContext("2d"),z=o-(b.right+b.left),r=j-(b.bottom+b.top),h=b.left,t=o-b.right,m=b.top,f=m+r,s=t-h,v=f-m;function y(b){let a=x*parseFloat(b-g);if(a<0)return h;return a>t?t:Math.round(h+a)}function A(){let i,j,h,a,b=0;d=[];let k=n/p,l=Math.round(s/p),m=Math.round(v/10);for(let l=0;l<p;l++)h=g+l*k,i=y(h),a=jStat.normal.pdf(h,e,c),j=f-Math.round(a*v),a>b&&(b=a),d.push({x:i,y:j,X:h,Y:a});if(d.maxYvalue=b,b>.9999)for(let a=0;a<p;a++)d[a].y=f-Math.round(d[a].Y/b*v)}function i(){g=parseFloat(e-k*c),l=parseFloat(e+k*c),n=parseFloat(l-g),x=parseFloat(s/n),A(),a.fillStyle='white',a.fillRect(0,0,o,j),a.fillStyle='white',a.fillRect(b.left,b.top,z,r),a.fillStyle='black',a.font='16pt Arial',a.textAlign="center";let I=a.measureText(u);a.textAlign='center',a.fillText(u,b.left+z/2,j-b.bottom/4),a.save(),a.rotate(-Math.PI/2),a.fillText(w,r/2*-1,b.left/3),a.restore(),a.strokeStyle='black',a.lineWidth=1,a.beginPath(),a.moveTo(b.left,j-b.bottom),a.lineTo(o-b.right,j-b.bottom),a.stroke(),a.closePath(),a.beginPath(),a.moveTo(b.left,b.top),a.lineTo(b.left,j-b.bottom),a.stroke(),a.closePath();let i;a.font='10pt Calibri',a.textAlign="end",a.textBaseline="middle";const B=10;let E=f-m,F=Math.round(E/B),D=d.maxYvalue/B,t;for(let b=0;b<=B;b++)D<.1?i=(b/B).toFixed(2).toString():i=(b*D).toFixed(2).toString(),t=f-b*F,a.beginPath(),a.moveTo(h,t),a.lineTo(h-5,t),a.stroke(),a.closePath(),a.fillText(i,h-6,t);const C=10;let q=1;c<1&&(q=2),c<.1&&(q=3),c<.01&&(q=4),c<.001&&(q=5);let G=parseFloat(n/C),H=Math.round(s/C),v;a.textAlign='center';for(let b=1;b<C;b++)v=h+b*H,i=(g+b*G).toFixed(q).toString(),a.beginPath(),a.moveTo(v,f),a.lineTo(v,f+5),a.stroke(),a.closePath(),a.fillText(i,v,f+15);a.strokeStyle='red',a.lineWidth=1,a.beginPath(),a.moveTo(y(e),f),a.lineTo(y(e),m),a.stroke(),a.closePath(),a.translate(.2,.1),a.strokeStyle='blue',a.lineWidth=1,a.beginPath(),a.moveTo(d[0].x,d[0].y);for(let b=1;b<p;b++)a.lineTo(d[b].x,d[b].y),a.stroke();a.closePath(),a.translate(-.2,-.1)}function B(d){e=parseFloat(d);let a=e-k*c,b=e+k*c;g=a,document.getElementById("min").value=a,l=b,document.getElementById("max").value=b,i()}function C(d){c=parseFloat(d),c==0&&(c=.1,document.getElementById("stdev").value=c);let a=e-k*c,b=e+k*c;g=a,document.getElementById("min").value=a,l=b,document.getElementById("max").value=b,i()}function D(a){l=parseFloat(a),i()}function E(a){g=parseFloat(a),i()}function F(a){u=a,i()}function G(a){w=a,i()}return{render:i,setXMin:E,setXMax:D,setAverage:B,setStdev:C,setXtitle:F,setYtitle:G}}()