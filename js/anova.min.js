"use strict";var anova=function(){var e,d,b,c,a,g,l,n,f,h,m,j,k,i,p,o;const r=0,const v=1,e=[],d=0,b=[],c=[],a=[],g=[],l=0,n=0,f={df:0,ss:0},h={name:"Error",df:0,ss:0},m=!1,j=Number.MIN_SAFE_INTEGER,k=Number.MAX_SAFE_INTEGER,i=.05,p=.05,o="";function u(){g=[];for(let c=0,d=a.length;c<d;c++)if(a[c].P<i&&a[c].nlevels>0&&a[c].order<4&&a[c].against!==-1)for(let d=0,e=b.length;d<e;d++)if(a[c].codes[d]===1&&b[d].type===v){let e={fcode:d};if(e.fname=b[d].name,e.term=a[c].name,e.df_against=a[a[c].against].df,e.ms_against=a[a[c].against].MS,e.averages=[],a[c].order===1){e.type='factor',e.averages[e.term]=[];for(let f=0,i=a[c].average.length;f<i;f++){let j=a[c].levels[f].split(',')[d],k=b[d].levels[j],l=a[c].average[f],g=a[c].n[f],h=0;g>1&&(h=(a[c].sumx2[f]-Math.pow(a[c].sumx[f],2)/g)/(g-1)),e.averages[e.term].push({level:k,average:l,n:g,std:h})}e.averages[e.term].sort((a,b)=>a.average>b.average?1:-1),g.push(e)}else{e.type='interaction';for(let f=0,n=a[c].levels.length;f<n;f++){let i=a[c].levels[f].split(','),k=i[d],l=b[d].levels[k];for(let e=0,f=b.length;e<f;e++)(a[c].codes[e]!=1||e==d)&&(i[e]="-");let m=a[c].average[f],h=a[c].n[f],j=0;h>1&&(j=(a[c].sumx2[f]-Math.pow(a[c].sumx[f],2)/h)/(h-1));let g=i.join(),o=e.averages.hasOwnProperty(g)?e.averages[g]:-1;o==-1&&(e.averages[g]=[]),e.averages[g].push({level:l,average:m,n:h,std:j}),e.averages[g].sort((a,b)=>a.average>b.average?1:-1)}g.push(e)}}}function I(){let c=Math.pow(2,d);for(let f=1;f<c;f++){let e={idx:0,name:"",codes:[],order:0,combins:1,nlevels:0,levels:[],sumx:[],sumx2:[],n:[],average:[],ss:0,df:1,SS:0,ct_codes:[],varcomp:[],MS:0,P:0,against:-1,F:0};for(let a=0;a<d;a++)e.idx=f,f&Math.pow(2,a)?(e.codes[a]=1,e.order++,e.combins*=b[a].nlevels):e.codes[a]=0,e.codes.push(0);a.push(e)}if(D()){a.sort(function(a,b){return a.order-b.order||a.idx-b.idx});for(let c=0,e=a.length-2;c<e;c++){if(a[c].order==1)a[c].df=b[c].nlevels-1;else{let e=1;for(let f=0;f<d;f++)a[c].codes[f]>0&&(e*=b[f].nlevels-1);a[c].df=e}a[c].MS=a[c].SS/a[c].df}let c=a.length-2;a[c].MS=a[c].SS/a[c].df,B(),x(),z(),u(),C(),w()}}function x(){for(let c=0,e=a.length-2;c<e;c++){a[c].ct_codes=new Array(d+1).fill(0);for(let e=0;e<d;e++){let f=a[c].codes[e];f!=0?f==1?b[e].type===r?a[c].ct_codes[e]=1:a[c].ct_codes[e]=0:a[c].ct_codes[e]=1:a[c].ct_codes[e]=b[e].nlevels}a[c].ct_codes[d]=l}let c=a.length-1;for(let b=0;b<c;b++)for(let e=0;e<c;e++){let f=!0;for(let c=0;c<d+1;c++)if(a[b].codes[c]>0&&a[e].codes[c]==0){f=!1;break}f?a[b].varcomp.push(1):a[b].varcomp.push(0)}for(let b=0;b<c;b++)for(let e=0;e<c;e++)if(a[b].varcomp[e]==1){let c=1;for(let f=0;f<d+1;f++)a[b].codes[f]==0&&(c*=a[e].ct_codes[f]);a[b].varcomp[e]=c}c=a.length;for(let b=0;b<c-2;b++)for(let d=c-2;d>=0;d--){let e=!0;if(b!=d){for(let c=0,f=a[b].varcomp.length;c<f;c++)if(c!=b){if(a[b].varcomp[c]!=a[d].varcomp[c]){e=!1;break}}}else e=!1;if(e){a[b].against=d,a[b].F=a[b].MS/a[d].MS,a[b].P=1-jStat.centralF.cdf(a[b].F,a[b].df,a[d].df);break}a[b].against=-1,a[b].F=NaN,a[b].P=NaN}A()}function s(){let a=[],d=0;for(let g=0,i=e.length;g<i;g++){let h=[];for(let a=0,c=e[g].levels.length;a<c;a++){let d=e[g].levels[a],f=b[a].levels.indexOf(d);h[a]=f}let f={};if(f.codes=h,f.sumx=e[g].value,f.sumx2=Math.pow(e[g].value,2),f.n=1,f.n_orig=1,c.length==0)a[h]=c.push(f)-1;else{let b=a.hasOwnProperty(h)?a[h]:-1;b!=-1?(c[b].sumx+=f.sumx,c[b].sumx2+=f.sumx2,c[b].n++,c[b].n>d&&(d=c[b].n)):a[h]=c.push(f)-1}}for(let a=0,b=c.length;a<b;a++)if(c[a].n_orig=c[a].n,c[a].n<d){let b=c[a].sumx/c[a].n,e=d-c[a].n;for(let d=0;d<e;d++)n++,c[a].sumx+=b,c[a].sumx2+=Math.pow(b,2),c[a].n++}let g=0,i=0,j=0;for(let a=0,b=c.length;a<b;a++)c[a].ss=c[a].sumx2-Math.pow(c[a].sumx,2)/c[a].n,h.df+=c[a].n-1,h.ss+=c[a].ss,f.df+=c[a].n,g+=c[a].sumx,i+=c[a].sumx2,j+=c[a].n;f.df-=1,f.ss=i-Math.pow(g,2)/j,h.orig_df=h.df,h.df-=n,f.orig_df=f.df,f.df-=n,l=c[0].n,G(),I()}function B(){if(d==1||!m)return;let c=0;while(c<a.length-2){let e=c+1;while(e<a.length-2)if(a[c].ss==a[e].ss){for(let f=0;f<d;f++)a[e].codes[f]!=a[c].codes[f]&&(a[c].codes[f]=2,a[c].order==1&&(b[c].nestedin[f]=1,b[c].type=r));a[c].SS+=a[e].SS,a[c].averages=a[e].averages,a[c].sumx=a[e].sumx,a[c].sumx2=a[e].sumx2,a[c].levels=a[e].levels,a[c].nlevels=a[e].nlevels,a[c].combins=a[e].combins,a.splice(e,1)}else e++;c++}y();for(let c=0,e=a.length-2;c<e;c++){a[c].df=1;for(let e=0;e<d;e++)a[c].codes[e]==1&&(a[c].df*=b[e].nlevels-1),a[c].codes[e]==2&&(a[c].df*=b[e].nlevels);a[c].MS=a[c].SS/a[c].df}}function y(){for(let a=0;a<d;a++)for(let c=0;c<d;c++)b[a].nestedin[c]==1&&(b[a].depth++,b[a].nlevels/=b[c].nlevels);let c=[];for(let a=0;a<d;a++){let e=b[a].depth;if(e>0){let d={};d.index=a,d.codes=b[a].nestedin,d.depth=b[a].depth,d.name=b[a].name,c.push(d)}}c.sort(function(a,b){return a.depth-b.depth});for(let a=0,e=c.length;a<e;a++)if(c[a].depth>1){for(let b=0,e=c.length;b<e;b++)if(a!=b&&c[b].depth<c[a].depth)for(let e=0;e<d;e++)if(c[a].codes[e]==1&&c[b].codes[e]==1){let d=c[b].index;c[a].codes[d]==1&&(c[a].codes[e]=0)}let e=[],f=c[a].index;for(let f=0;f<d;f++)c[a].codes[f]==1&&e.push(b[f].name);b[f].name+="("+e.join("*")+")"}else{let d=c[a].codes.indexOf(1),e=c[a].index;d!=-1&&(b[e].name+="("+b[d].name+")")}for(let c=0,f=a.length-2;c<f;c++){let e=[];for(let f=0;f<d;f++)a[c].codes[f]==1&&e.push(b[f].name);a[c].name=e.join("*")}}function w(){let b='<div class="ct"><table><thead><tr><th>Source</th><th>SS</th><th>df</th><th>MS</th><th>F</th><th>Prob.</th><th>Against</th></tr></thead><tbody>';for(let c=0,e=a.length;c<e;c++){b+="<tr>",b+="<td>"+a[c].name+"</td>",b+="<td>"+a[c].SS.toFixed(5).toString()+"</td>",b+="<td>"+a[c].df.toString()+"</td>",a[c].name!="Total"?b+="<td>"+a[c].MS.toFixed(5).toString()+"</td>":b+="<td></td>";let d=a[c].against;if(c<a.length-2&&d!=-1){b+="<td>"+a[c].F.toFixed(5).toString()+"</td>";let e="";a[c].P>i?e=a[c].P.toFixed(5).toString():e="<b><i>"+a[c].P.toFixed(5).toString()+"</i></b>",b+="<td>"+e+"</td>",b+="<td>"+a[d].name+"</td>"}else b+="<td></td>",b+="<td></td>",d==-1?b+="<td><b>No Test</b></td>":b+="<td></td>";b+="</tr>"}b+='</tbody></table></div>',b+='<div class="ct"><p>Rejection criteria (&alpha;):</p><p><input type="number" id="anova_alpha" value="'+i.toString()+'" min="0.00000" max="0.999999" step="0.1" onchange="anova.setAlpha()"/></p>'+'</div>';let c=document.getElementById('analysis');c.innerHTML=b,selectTab('analysis')}function z(){let d=document.getElementById('averages'),c='';for(let d=0,f=a.length-2;d<f;d++){c+='<h3>Averages for '+a[d].name+'</h3>',c+='<table><thead><tr>';let e=[...a[d].codes];for(let a=0,d=e.length;a<d;a++)e[a]!=1?e[a]='-':c+='<th>'+b[a].name+'</th>';c+='<th>Average</th><th>n</th><th>St. Dev.</th><th>Variance</th></tr></thead><tbody>';for(let f=0,k=a[d].average.length;f<k;f++){c+='<tr>';let i=a[d].levels[f].split(',');for(let a=0,d=i.length;a<d;a++)e[a]==1&&(c+='<td>'+b[a].levels[i[a]]+'</td>');c+='<td>'+a[d].average[f].toString()+'</td>';let g=parseInt(a[d].n[f]);c+='<td>'+g.toString()+'</td>';let j=0,h=0;g>1&&(h=(a[d].sumx2[f]-Math.pow(a[d].sumx[f],2)/g)/(g-1)),j=Math.sqrt(h,2),c+='<td>'+j.toString()+'</td>',c+='<td>'+h.toString()+'</td>',c+='</tr>'}c+='</tbody></table>'}d.innerHTML=c}function A(){let c=document.getElementById('ctrules'),b='<div class="ct"><table><thead>';b+='<tr><th>Term</th>',b+='<th>Estimates</th></tr></thead><tbody>';for(let c=0,f=a.length-1;c<f;c++){b+='<tr><td>'+a[c].name+'</td>';let e=[],d="";for(let b=a.length-2;b>=0;b--)a[c].varcomp[b]>0&&(a[b].name==='Error'||a[b].name==='Residual'?d='&epsilon;':d=a[b].name,a[c].varcomp[b]===1?e.push('&sigma;<sup>2</sup><sub>'+d+'</sub>'):e.push(a[c].varcomp[b].toString()+'*&sigma;<sup>2</sup><sub>'+d+'</sub>'));b+='<td>'+e.join(' + ')+'</td></tr>'}b+='</tbody></table></div>',c.innerHTML=b}function q(){let c=document.getElementById("data"),a='<div class="ct"><h3>Transformations</h3><p><input type="radio" name="transf" value="none" checked>None</p><p><input type="radio" name="transf" value="sqrt">&radic;X</p><p><input type="radio" name="transf" value="sqrt3">&#8731;X</p><p><input type="radio" name="transf" value="sqrt4">&#8732;X</p><p><input type="radio" name="transf" value="log">Log(X+1)</p><p><input type="radio" name="transf" value="ln">Ln(X+1)</p><p><input type="radio" name="transf" value="arcsin">arcsin(X)</p><p><input type="radio" name="transf" value="mult">X &times; <input type="number" id="multc" value="100"></p><p><input type="radio" name="transf" value="div">X &divide; <input type="number"  id="divc" value="100"></p><p><input type="radio" name="transf" value="pow">X&#8319; <input type="number"  id="powc" value="0.25"></p><p><button onclick="anova.transformData()">Apply</button></p><p><button onclick="anova.resetData()">Reset</button></p></div>';a+='<div class="ct">',a+='<table><thead><tr>';for(let c=0,d=b.length;c<d;c++)a+='<th>'+b[c].name+'</th>';a+='<th>DATA</th></tr></thead><tbody>';for(let c=0,d=e.length;c<d;c++){a+='<tr>';for(let d=0,f=b.length;d<f;d++)a+='<td>'+e[c].levels[d]+'</td>';a+='<td>'+e[c].value.toString()+'</td></tr>'}a+='</tbody></table></div>',c.innerHTML=a}function C(){let a=document.getElementById('mtests'),b='<div class="ct"><h3>Multiple Comparison Tests</h3><p><input type="radio" name="test" value="none" checked>None</p><p><input type="radio" name="test" value="snk">Student-Newman-Keuls (SNK)</p><p><input type="radio" name="test" value="tukey">Tukey (HSD)</p><p>Rejection criteria (&alpha;): <input type="number" id="mtests_alpha" value="'+p.toString()+'" min="0.00000" max="0.999999" step="0.01" onchange="anova.setMtAlpha()"/></p>'+'<p><button onclick="anova.multipleTests()">Compute</button></p>'+'</div>'+'<div class="ct" id="mtest_results" style="display: none;"></div>';a.innerHTML=b}function D(){let e=a.length,g=c.length;for(let i=0;i<e;i++){let j=a[i].codes,k=[];for(let a=0,c=j.length;a<c;a++)j[a]==1&&k.push(b[a].name);a[i].name=k.join('*');for(let b=0;b<g;b++){let e=[];for(let a=0;a<d;a++)j[a]===1?e.push(c[b].codes[a]):e.push('-');let f=a[i].levels.indexOf(e.toString());f!=-1?(a[i].sumx[f]+=c[b].sumx,a[i].sumx2[f]+=c[b].sumx2,a[i].n[f]+=c[b].n):(a[i].levels.push(e.toString()),a[i].sumx.push(c[b].sumx),a[i].sumx2.push(c[b].sumx2),a[i].n.push(c[b].n),a[i].nlevels++)}a[i].nlevels!=a[i].combins&&(m=!0),m&&(h.name="Residual");for(let b=0,c=a[i].n.length-1;b<c;b++)if(a[i].n[b]!=a[i].n[b+1])return alert("Asymmetrical data set. Analysis stopped!"),!1;for(let b=0,c=a[i].nlevels;b<c;b++)a[i].average[b]=a[i].sumx[b]/a[i].n[b],a[i].ss+=a[i].sumx2[b]-Math.pow(a[i].sumx[b],2)/a[i].n[b];if(a[i].order==1)a[i].SS=f.ss-a[i].ss;else{let b=f.ss;for(let c=0;c<i;c++){let e=a[c].codes,f=j.length,d=!0;for(let a=0;a<f;a++)e[a]==1&&j[a]==0&&(d=!1);d&&(b-=a[c].SS)}a[i].SS=b-a[i].ss}}let i={idx:e,name:h.name,codes:new Array(d+1).fill(1),order:a[e-1].order+1,combins:0,nlevels:0,levels:[],sumx:[],sumx2:[],n:[],average:[],ss:0,df:h.df,SS:h.ss,ct_codes:new Array(d+1).fill(1),varcomp:[],MS:0,P:0,against:-2,F:0};a.push(i);let j={idx:e+1,name:"Total",codes:new Array(d+1).fill(1),order:a[e].order+1,combins:0,nlevels:0,levels:[],sumx:[],sumx2:[],n:[],average:[],ss:0,df:f.df,SS:f.ss,ct_codes:[],varcomp:[],MS:0,P:0,against:-2,F:0};return a.push(j),!0}function E(){let a=c.length,d=0;for(let a=0;a<c.length;a++)d+=c[a].n;let i=0;for(let b=0;b<c.length;b++)i+=(c[b].sumx2-Math.pow(c[b].sumx,2)/c[b].n)/(d-a);let k=(d-a)*Math.log(i),f=0;for(let a=0;a<c.length;a++)f+=(c[a].n-1)*Math.log((c[a].sumx2-Math.pow(c[a].sumx,2)/c[a].n)/(c[a].n-1));let j=1/(3*(a-1)),g=0;for(let b=0;b<c.length;b++)g+=1/(c[b].n-1)-1/(d-a);let h=(k-f)/(1+j*g),b=1-jStat.chisquare.cdf(h,a-1);b>1&&(b=1),b<0&&(b=0);let e="";return e+="<p>Bartlett's Test for <b><i>k</i> = "+a.toString()+"</b> averages and <b>&nu; = ",e+=(a-1).toString()+"</b> degrees of freedom: <b>"+h.toString()+"</b></p>",e+="<p>P = <b>"+b.toString()+"</b></p>",e}function F(){let h=0,k=0,a=c.length,d=l-1;for(let b=0;b<a;b++){let d=c[b].sumx2-Math.pow(c[b].sumx,2)/c[b].n;d=d/(c[b].n-1),d>h&&(h=d),k+=d}let e=h/k,f=0;e>0&&a>1&&(f=jStat.centralF.cdf((1/e-1)/(a-1),(a-1)*d,d)*a,f>1&&(f=Math.abs(Math.floor(f)-f)));let b="";b+="<p>Cochran's Test for <b><i>k</i> = "+a.toString()+"</b> averages and <b>&nu; = ",b+=d.toString()+"</b> degrees of freedom: <b>"+e.toString()+"</b></p>",b+="<p>P = <b>"+f.toString()+"</b></p>";let g=0,i=0,j=0;return g=1/(1+(a-1)/jStat.centralF.inv(1-.1/a,d,d*(a-1))),i=1/(1+(a-1)/jStat.centralF.inv(1-.05/a,d,d*(a-1))),j=1/(1+(a-1)/jStat.centralF.inv(1-.01/a,d,d*(a-1))),b+="<p>Critical values for &alpha;</p>",b+="<p><i>0.10</i>: "+g.toString()+", hence ",b+=e>g?"variances are heterogeneous":"variances are homogeneous",b+="</p>",b+="<p><i>0.05</i>: "+i.toString()+", hence ",b+=e>i?"variances are heterogeneous":"variances are homogeneous",b+="</p>",b+="<p><i>0.01</i>: "+j.toString()+", hence ",b+=e>j?"variances are heterogeneous":"variances are homogeneous",b+="</p>",b}function G(){let a=document.getElementById('homogen');a.innerHTML='<div class="ct">Cochran\'s test'+F()+"</div>",a.innerHTML+='<div class="ct">Bartlett\'s test'+E()+"</div>"}function H(g,j,h,i,c){let b="",a=[],e=0,f=c.length,d=f;do{let b=f-d+1;for(let j=0;j<b;j++){let k=j+d-1,l=Math.abs(c[j].average-c[k].average)/Math.sqrt(i/c[j].n);if(g=='tukey'&&(e=1-jStat.tukey.cdf(l,f,h)),g=='snk'&&(e=1-jStat.tukey.cdf(l,d,h)),e>p){let b=!1;for(let c=0,d=a.length;c<d;c++)if(j>=a[c][0]&&k<=a[c][1]){b=!0;break}b||a.push([j,k])}}d--}while(d>1)for(let b=0,e=c.length;b<e;b++){let d=!1;for(let c=0,e=a.length;c<e;c++)if(b>=a[c][0]&&b<=a[c][1]){d=!0;break}d||a.push([b,b])}a.sort((a,b)=>a[0]>b[0]?1:-1),b+='<table>',b+='<tr><th>Level</th><th>Average</th><th>n</th>';for(let c=0,d=a.length;c<d;c++)b+='<th>&nbsp;</th>';b+='</tr>';for(let d=0,e=c.length;d<e;d++){b+='<tr><td>'+c[d].level+'</td><td>'+c[d].average.toString()+'</td><td>'+c[d].n.toString()+'</td>';for(let c=0,e=a.length;c<e;c++)d>=a[c][0]&&d<=a[c][1]?b+='<td>&#9679;</td>':b+='<td>&nbsp;</td>';b+='</tr>'}return b+='</table>',b}function t(){let d=['snk','tukey','duncan'],a=document.getElementsByName("test"),c=0;for(let b=0;b<a.length;b++)if(a[b].checked){c=a[b].value;break}if(a=document.getElementById("mtest_results"),c!='none'){let e="";for(let a=0,f=g.length;a<f;a++){let h=g[a].df_against,i=g[a].ms_against,j=g[a].fcode;e+='<h3>Multiple comparisons for levels of factor '+g[a].fname,g[a].type=='interaction'?e+=' within levels of '+g[a].term+'</h3>':e+='</h3>';for(let f in g[a].averages){if(g[a].type=='interaction'){let a=f.split(','),c=[];for(let d=0,e=a.length;d<e;d++)a[d]!='-'&&c.push('level <i>'+b[d].levels[a[d]]+'</i> of factor '+b[d].name);e+='<h4>For '+c.join(' and ')+'</h4>'}d.indexOf(c)!=-1&&(e+=H(c,j,h,i,g[a].averages[f]))}}e==""&&(e="<h3>No multiple tests available!</h3>Are you sure there are significant differences in fixed factors?"),a.innerHTML=e,a.style.display='inline-block'}else a.innerHTML="",a.style.display='none'}function J(){let a=document.getElementById('loadFile').files[0];if(typeof a==='undefined')return;let c=/text.*/;if(a.type.match(c)){o=a.name;let f=document.getElementById('filename');f.innerHTML='Current selected file is <b>'+o+'</b>',K();let c=new FileReader;c.onload=function(h){let a=!0,i=c.result,f=i.split('\n');for(let g=0,i=f.length;g<i;g++){let c=f[g].trim();if(c[0]!=='#'&&c.length!==0)if(c=c.split(/[\s\t]+/),a){d=c.length-1;for(let a=0,f=c.length-1;a<f;a++){b[a]={};let e=c[a];e.endsWith("*")?(b[a].type=r,e=e.slice(0,e.length-1)):b[a].type=v,b[a].name=e,b[a].orig_name=e,b[a].nlevels=0,b[a].levels=[],b[a].nestedin=new Array(d).fill(0),b[a].depth=0,b[a].subscript=String.fromCharCode(a+105)}a=!1}else{if(c.length!=d+1){let a=g+1,b=c.length.toString(),e=d+1;alert('In line '+a.toString()+' number of columns ('+b+') is different from what is expected ('+h.toString()+')');return}let f={};f.levels=[];for(let a=0;a<d;a++){let e=b[a].levels.indexOf(c[a]);e==-1&&(b[a].levels.push(c[a]),b[a].nlevels++),f.levels.push(c[a])}let a=+c[d].replace(",","."),i=Number.parseFloat(a);if(Number.isNaN(i)){let b=g+1;alert('In line '+b.toString()+' data value ('+a.toString()+') is not a valid number!');return}f.value=a,f.original=a,a>j&&(j=a),a<k&&(k=a),f.value=a,f.original=a,a>j&&(j=a),a<k&&(k=a)}}let g=document.getElementsByClassName("tabcontent");for(let a=0,b=g.length;a<b;a++)g[a].innerHTML="";q(),s()},c.readAsText(a),document.getElementById('loadFile').value=""}else alert('File type of '+o+' not supported by your browser.')}function K(){let g=document.getElementsByClassName('tabcontent');for(let a=0,b=g.length;a<b;a++)typeof g[a]!=='undefined'&&g[a]!==null&&(g[a].innerHTML="");d=0,b=[],e=[],c=[],a=[],n=0,l=0,f={df:0,ss:0},h={name:"Error",df:0,ss:0},m=!1,j=Number.MIN_SAFE_INTEGER,k=Number.MAX_SAFE_INTEGER}function L(){let g=document.getElementsByClassName("tabcontent");for(let a=0,b=g.length;a<b;a++)g[a].innerHTML="";j=Number.MIN_SAFE_INTEGER,k=Number.MAX_SAFE_INTEGER;for(let a=0;a<e.length;a++)e[a].value=e[a].original,e[a].value>j&&(j=e[a].value),e[a].value<k&&(k=e[a].value);for(let a=0;a<b.length;a++)b[a].name=b[a].orig_name,b[a].nlevels=b[a].levels.length,b[a].nestedin=new Array(d).fill(0),b[a].depth=0;c=[],a=[],n=0,l=0,f={df:0,ss:0},h={name:"Error",df:0,ss:0},m=!1,q(),s()}function M(){i=parseFloat(document.getElementById('anova_alpha').value),i>1&&(i=.9999999),i<0&&(i=1e-7),w()}function N(){p=parseFloat(document.getElementById('mtests_alpha').value),i>1&&(i=.9999999),i<0&&(i=1e-7),u(),t()}function O(){let g=document.getElementsByName("transf"),r=parseFloat(document.getElementById("multc").value),i=parseFloat(document.getElementById("divc").value),t=parseFloat(document.getElementById("powc").value);j=Number.MIN_SAFE_INTEGER,k=Number.MAX_SAFE_INTEGER;let o=0;for(let a=0;a<g.length;a++)if(g[a].checked){o=a;break}for(let b=0;b<e.length;b++){let a=e[b].value;switch(o){case 1:a>=0&&(a=Math.sqrt(a));break;case 2:a=Math.pow(a,1/3);break;case 3:a=Math.pow(a,.25);break;case 4:a>=0&&(a=Math.log(a+1)/Math.log(10));break;case 5:a>=0&&(a=Math.log(a+1));break;case 6:a>=0&&a<=1&&(a=Math.asin(a));break;case 7:a*=r;break;case 8:i!=0&&(a/=i);break;case 9:a=Math.pow(a,t);break}e[b].value=a,a>j&&(j=a),a<k&&(k=a)}let p=document.getElementsByClassName("tabcontent");for(let a=0,b=p.length;a<b;a++)p[a].innerHTML="";for(let a=0;a<b.length;a++)b[a].name=b[a].orig_name,b[a].nlevels=b[a].levels.length,b[a].nestedin=new Array(d).fill(0),b[a].depth=0;c=[],a=[],n=0,l=0,f={df:0,ss:0},h={name:"Error",df:0,ss:0},m=!1,q(),s()}return{setAlpha:M,setMtAlpha:N,open:J,resetData:L,transformData:O,multipleTests:t}}();function selectTab(c){let a=document.getElementsByClassName("tabs");for(let b=0,d=a.length;b<d;b++)a[b].name==c?a[b].classList.add("selected"):a[b].classList.remove('selected');let b=document.getElementsByClassName("tabcontent");for(let a=0,d=b.length;a<d;a++)b[a].id==c?b[a].style.display="block":b[a].style.display="none"}document.addEventListener('DOMContentLoaded',function(){let a=document.getElementsByClassName('tabcontent');for(let b=0;b<a.length;b++)a[b].style.display="none";document.getElementById("openFile").onclick=function(){document.getElementById("loadFile").click()},document.getElementById("loadFile").onchange=function(){anova.open()}})